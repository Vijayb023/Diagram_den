<!-- Loading Indicator -->
<div *ngIf="loading" class="flex items-center gap-2 text-indigo-600 text-sm animate-pulse">
  <svg class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <circle class="opacity-25" cx="12" cy="12" r="10" stroke-width="4"></circle>
    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"></path>
  </svg>
  Loading analysis...
</div>

<!-- Analysis Display -->
<div *ngIf="!loading">
  <div *ngFor="let section of analysisSections" class="mb-6">
    <h3 class="text-lg font-semibold text-gray-800 mb-2">{{ section.title }}</h3>
    <ul class="grid gap-3">
      <!-- Cons (clickable) -->
      <ng-container *ngIf="section.title === 'Cons'; else regularSection">
        <li
          *ngFor="let con of section.items"
          (click)="handleConsClick(con)"
          class="flex items-start gap-2 bg-red-50 hover:bg-red-100 border border-red-200 px-4 py-3 rounded-lg cursor-pointer shadow-sm transition-all hover:shadow-md text-red-800"
        >
          <svg class="w-5 h-5 mt-1 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636L5.636 18.364M5.636 5.636l12.728 12.728" />
          </svg>
          <span>{{ con }}</span>
        </li>
      </ng-container>

      <!-- Pros or other sections -->
      <ng-template #regularSection>
        <li
          *ngFor="let item of section.items"
          class="flex items-start gap-2 bg-green-50 border border-green-200 px-4 py-3 rounded-lg shadow-sm text-green-800"
        >
          <svg class="w-5 h-5 mt-1 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
          <span>{{ item }}</span>
        </li>
      </ng-template>
    </ul>
  </div>
</div>
